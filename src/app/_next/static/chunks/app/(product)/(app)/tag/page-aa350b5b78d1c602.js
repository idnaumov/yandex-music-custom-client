(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[68],{68557:function(t,e,i){Promise.resolve().then(i.bind(i,85034))},62185:function(t,e,i){"use strict";i.d(e,{v:function(){return c}});var n,a=i(80766),l=i(91207),s={6699:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.useDebouncedToggle=void 0;let n=i(352),a=i(810);e.useDebouncedToggle=t=>{let{delay:e,initialState:i,throttleTimeout:l}=t,s=(0,a.useRef)(null),[r,o]=(0,a.useState)(!!i),u=(0,a.useMemo)(()=>(0,n.throttle)(()=>{o(!i),s.current&&window.clearTimeout(s.current),s.current=window.setTimeout(()=>{o(!!i)},e)},l),[e,i,l]),c=(0,a.useCallback)(()=>{o(!!i),s.current&&window.clearTimeout(s.current)},[i]);return(0,a.useEffect)(()=>()=>{s.current&&window.clearTimeout(s.current)},[]),{state:r,handleDebouncedToggle:u,reset:c}}},361:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getElementFromRefOrElement=void 0,e.getElementFromRefOrElement=t=>void 0===t?void 0:null===t||t instanceof HTMLElement?t:null===t.current||t.current instanceof HTMLElement?t.current:void 0},352:t=>{t.exports=a},810:t=>{t.exports=n||(n=i.t(l,2))}},r={};function o(t){var e=r[t];if(void 0!==e)return e.exports;var i=r[t]={exports:{}};return s[t](i,i.exports,o),i.exports}var u={};(()=>{Object.defineProperty(u,"__esModule",{value:!0}),u.useScroll=void 0;let t=o(810),e=o(361),i=o(6699);u.useScroll=n=>{let{onScroll:a,listenIsScrolling:l,elementRef:s}=n,{state:r,handleDebouncedToggle:o}=(0,i.useDebouncedToggle)({delay:1e3,throttleTimeout:100}),u=(0,t.useCallback)(()=>{l&&o(),null==a||a()},[l,o,a]);return(0,t.useEffect)(()=>{let t=(0,e.getElementFromRefOrElement)(s);if(null===t)return;let i=null!=t?t:window,n={capture:!0,passive:!0};return i.addEventListener("scroll",u,n),()=>i.removeEventListener("scroll",u,n)},[s,u]),r}})(),u.__esModule;var c=u.useScroll},85034:function(t,e,i){"use strict";i.r(e);var n=i(65301),a=i(99678),l=i(99063);e.default=()=>{let t=(0,a.useSearchParams)().get("tagId");return t||(0,a.notFound)(),(0,n.jsx)(l.uj,{tagId:t})}},21016:function(t,e,i){"use strict";i.d(e,{I7:function(){return m},kl:function(){return p},b4:function(){return g},at:function(){return l}}),i(40174);var n=i(91207),a=i(56198);let l=(t,e)=>((0,a.uK4)().get(a.Xt8),[(0,n.useMemo)(()=>{if(void 0===e)return{};let i=e-17;return{"--average-color-background":t,transform:"translateY(".concat(e>=17?0:i,"px)"),opacity:1}},[e,!1,t]),(0,n.useMemo)(()=>({"--average-color-background":t}),[t])]);var s=i(65301),r=i(66591),o=i(96233),u=i(62185),c=i(29778);let d=t=>{let{element:e,scrollTop:i,isMobile:n}=t,a=.4*e.clientHeight;return i+(n?60:76)>=e.offsetTop+a},m=(0,o.Pi)(t=>{let{children:e,scrollElement:i,outerTitle:l="",headerElement:o,headerThreshold:m,shouldHideHeader:p}=t,[g,v]=(0,n.useState)(l),[y,_]=(0,n.useState)(null),[C,f]=(0,n.useState)(null),[x,h]=(0,n.useState)(null),[k,P]=(0,n.useState)(!1),[L,N]=(0,n.useState)(!1),[b,S]=(0,n.useState)(!1),[j,E]=(0,n.useState)(!1),{settings:{isMobile:T}}=(0,a.oR4)();(0,n.useLayoutEffect)(()=>{v(l)},[l]);let w=(0,n.useCallback)(()=>{let t=null!=m?m:10,e=o?Number(o.offsetTop)-t:t;e<0&&(e=0);let n=t=>{S(t>e),p&&E(t>30),(null==y?void 0:y.current)&&P(d({element:null==y?void 0:y.current,scrollTop:t,isMobile:T})),(null==C?void 0:C.current)&&N(d({element:null==C?void 0:C.current,scrollTop:t,isMobile:T}))};T?n(window.scrollY):i&&n(i.scrollTop)},[m,o,T,p,y,C,i]);(0,n.useEffect)(()=>{T?0===window.scrollY&&S(!1):i&&0!==i.scrollTop||S(!1)},[i,null==i?void 0:i.scrollTop,T]);let B=(0,n.useMemo)(()=>T?{onScroll:(0,r.Z)(w,200)}:{onScroll:(0,r.Z)(w,200),elementRef:i},[w,i,T]);(0,u.v)(B);let V=(0,n.useMemo)(()=>({title:g,setTitle:v,titleElement:y,scrollElement:T?null:i,setTitleElement:_,childElement:C,setChildElement:f,child:x,setChild:h,isScrolledChild:L,isScrolledTitle:k,isScrolling:b,isHeaderHidden:j}),[g,k,y,i,b,T,x,C,L,j]);return(0,s.jsx)(c.pI.Provider,{value:V,children:e})}),p=t=>{let{children:e,child:i,className:a}=t,{setChildElement:l,setChild:r}=(0,n.useContext)(c.pI),o=(0,n.useRef)(null);return(0,n.useEffect)(()=>{(null==o?void 0:o.current)&&l(o),i&&r(i)},[o,i,l,r]),(0,n.useEffect)(()=>()=>{r(null)},[r]),(0,s.jsx)("div",{ref:o,className:a,children:e})},g=t=>{let{children:e,title:i,className:a}=t,{setTitleElement:l,setTitle:r}=(0,n.useContext)(c.pI),o=(0,n.useRef)(null);return(0,n.useEffect)(()=>{(null==o?void 0:o.current)&&l(o),i&&r(i)},[o,i,l,r]),(0,n.useEffect)(()=>()=>{r("")},[r]),(0,s.jsx)("div",{ref:o,className:a,children:e})}},81706:function(t,e,i){"use strict";i.d(e,{vY:function(){return P.EmptyPlaylistBlock},ZL:function(){return L.PlaylistCard},Nn:function(){return h},d2:function(){return k},VD:function(){return N.PlaylistsCarousel},GK:function(){return b.SearchPlaylistCard},RE:function(){return l},Q9:function(){return d},VB:function(){return p},PB:function(){return v}});var n=i(2685),a=i(56198);let l=t=>{var e,i;let{playlist:l,generatedPlaylistType:s,likesCount:r,trailer:o,tracksCount:u}=t;return(0,n.pj)({isAvailable:null===(i=l.available)||void 0===i||i,uuid:l.playlistUuid,title:l.title,uid:l.uid,kind:l.kind,coverUri:null===(e=l.cover)||void 0===e?void 0:e.uri,generatedPlaylistType:s,likesCount:r,tracksCount:u,trailer:(0,a.GFX)(o)})};var s=i(99678),r=i(91207);(0,r.cache)(async(t,e)=>{try{let{container:i,backendHostTld:n,locale:l,host:r,fullUrl:o,requestUrl:u}=await (0,a.rbP)(),c=i.get(a.Eug),d=await c.getPlaylistWithTracksIds({userId:t,playlistKind:e,resumeStream:!1});return"not-found"===d.error&&(0,s.notFound)(),{playlist:d,backendHostTld:n,locale:l,host:r,fullUrl:o,requestUrl:u}}catch(t){return{playlist:void 0,backendHostTld:"",locale:null,host:"",fullUrl:null,requestUrl:null}}}),(0,r.cache)(async t=>{try{let{container:e,backendHostTld:i,locale:n,host:l,fullUrl:r,requestUrl:o}=await (0,a.rbP)(),u=e.get(a.lkR),c=await u.getPlaylist({playlistUuid:t,resumeStream:!1,richTracks:!1});return"not-found"===c.error&&(0,s.notFound)(),{playlist:c,backendHostTld:i,locale:n,host:l,fullUrl:r,requestUrl:o}}catch(t){return{playlist:void 0,backendHostTld:"",locale:null,host:"",fullUrl:null,requestUrl:null}}});var o=i(50684);let u=t=>({uid:t.uid,login:t.login,name:t.name,sex:t.sex,verified:t.verified}),c=t=>(0,n.pj)({userInfo:t.userInfo?u(t.userInfo):null,caseForms:t.caseForms?(0,a.GA0)(t.caseForms):null}),d=t=>(0,n.pj)({...(0,o.PV)(t),owner:t.owner?u(t.owner):void 0,description:t.description,tags:t.tags,modified:t.modified,madeFor:t.madeFor?c(t.madeFor):null});var m=i(9096);let p=t=>{var e,i;return(0,n.pj)({...(0,o.PV)(t),artists:null!==(i=null==t?void 0:null===(e=t.artists)||void 0===e?void 0:e.map(m.d))&&void 0!==i?i:[]})};var g=i(26382);let v=t=>{var e,i;return(0,n.pj)({...(0,o.PV)(t),tracks:null!==(i=null==t?void 0:null===(e=t.tracks)||void 0===e?void 0:e.map(g.wM))&&void 0!==i?i:[]})};var y=i(91694),_=i(60816);let C=n.V5.model("PlaylistOwner",{uid:n.V5.number,login:n.V5.string,name:n.V5.string,sex:n.V5.enumeration(Object.values(_.o)),verified:n.V5.boolean}),f=n.V5.model("PlaylistOwner",{userInfo:n.V5.maybeNull(C),caseForms:n.V5.maybeNull(y.S2)}),x=n.V5.model("PlaylistTag",{id:n.V5.string,value:n.V5.string}),h=o.Cd.props({owner:n.V5.maybe(C),modified:n.V5.string,description:n.V5.maybe(n.V5.string),tags:n.V5.maybeNull(n.V5.array(x)),madeFor:n.V5.maybeNull(f)}).views(t=>({get seeds(){var e;return["playlist:".concat(null===(e=t.owner)||void 0===e?void 0:e.login,"_").concat(t.kind)]},get tagsString(){let{experiments:e}=(0,n.yj)(t);if(!e.checkExperiment(a.peG.WebEditorsFeatures,"on")||!Array.isArray(t.tags)||!t.tags.length)return null;return t.tags.map(t=>t.value).join(", ")}})).actions(t=>({changeDescription:(0,n.ls)(function*(e){if(!(0,n.fh)(t))return a.SLo.ERROR;if(t.description===e)return a.SLo.OK;if(e.length>o.Zn)return a.SLo.ERROR;let{usersResource:i,modelActionsLogger:l}=(0,n.dU)(t);if(t.canUserChange){let n=t.description;t.description=e;try{let n=yield i.changePlaylistDescription({description:e,userId:t.uid,playlistKind:t.kind});return t.description=n.description,a.SLo.OK}catch(e){t.description=n,l.error(e)}}return a.SLo.ERROR}),changePlaylistCover:(0,n.ls)(function*(e){if(!(0,n.fh)(t))return a.SLo.ERROR;let{usersResource:i,modelActionsLogger:l}=(0,n.dU)(t);try{return yield i.uploadPlaylistCover({userId:t.uid,formData:e,playlistKind:t.kind}),a.SLo.OK}catch(t){l.error(t)}return a.SLo.ERROR})})).named("PlaylistMeta"),k=o.$h.props({artists:n.V5.maybe(n.V5.array(m.Go))});var P=i(22327),L=i(18801),N=i(75576),b=i(38965)},52484:function(t,e,i){"use strict";i.d(e,{z:function(){return l}});var n=i(91207),a=i(37184);let l=t=>{let{formatMessage:e}=(0,a.Z)();return(0,n.useMemo)(()=>{let i="";t.isLiked&&!t.actualLikesCount?i=e({id:"entity-names.has-your-like"}):"number"==typeof t.actualLikesCount&&(i=t.actualLikesCount>0?e({id:"entity-names.likes-counter"},{counter:t.actualLikesCount}):e({id:"entity-names.likes-counter-empty"}));let n=e({id:"entity-names.playlist-name"},{playlistName:t.title});return"".concat(n," ").concat(i)},[e,t])}},22327:function(t,e,i){"use strict";i.d(e,{EmptyPlaylistBlock:function(){return m}});var n=i(65301),a=i(9695),l=i(91207),s=i(44729),r=i(55975),o=i(82036),u=i(81437),c=i(97820),d=i.n(c);let m=t=>{let{className:e,isEmptySearch:i}=t,c=(0,l.useMemo)(()=>i?(0,n.jsx)(s.Z,{id:"search-results.not-found-title"}):(0,n.jsx)(s.Z,{id:"error-messages.empty-collection-playlist-title"}),[i]),m=(0,l.useMemo)(()=>i?(0,n.jsx)(s.Z,{id:"search-results.not-found-description"}):(0,n.jsx)(s.Z,{id:"error-messages.empty-collection-playlist-description"}),[i]);return(0,n.jsxs)("div",{className:(0,a.W)(d().root,e),...(0,r.BA)(r.bG.playlist.PLAYLIST_EMPTY_BLOCK),children:[(0,n.jsx)("div",{className:d().iconBackground,children:(0,n.jsx)(o.Icon,{variant:"search",size:"l",className:d().icon,...(0,r.BA)(r.bG.playlist.PLAYLIST_EMPTY_BLOCK_ICON)})}),(0,n.jsx)(u.Heading,{variant:"h3",size:"xs",className:d().title,...(0,r.BA)(r.bG.playlist.PLAYLIST_EMPTY_BLOCK_TITLE),children:c}),(0,n.jsx)(u.Caption,{variant:"span",size:"l",className:d().subtitle,...(0,r.BA)(r.bG.playlist.PLAYLIST_EMPTY_BLOCK_TEXT),children:m})]})}},18801:function(t,e,i){"use strict";i.d(e,{PlaylistCard:function(){return L}});var n=i(65301),a=i(9695),l=i(96233),s=i(91207),r=i(37184),o=i(3283),u=i(55975),c=i(19489),d=i(28257),m=i(82036),p=i(43998),g=i(81437),v=i(9096),y=i(50684),_=i(56198),C=i(29778),f=i(52484),x=i(92154);let h=(0,l.Pi)(t=>{var e;let{playlist:i,onOpenChange:a,open:l,...c}=t,{shouldShowBuySubscriptionModal:d,showBuySubscriptionModal:m}=(0,_.vLf)(),{settings:{isMobile:p},trailer:g,advert:v}=(0,_.oR4)(),{notify:f}=(0,_.d$W)(),h=(0,y.SB)(i),k=(0,y.BV)(i),P=(0,_.FTC)(),{formatMessage:L}=(0,r.Z)();(0,_.ZP4)(l);let N=(0,s.useCallback)(()=>{if(d){m();return}if(v.isAdvertShown){f((0,n.jsx)(C.vd,{}),{containerId:_.W$x.INFO});return}g.openPlaylistTrailer(i.id),P(o.OB.Playlist,i.id)},[d,v.isAdvertShown,g,i.id,P,m,f]);return(0,n.jsxs)(x.v2,{title:i.title,onOpenChange:a,open:l,offsetOptions:10,isMobile:p,ariaLabel:L({id:"interface-actions.context-menu"}),containerProps:(0,u.BA)(u.bG.playlist.PLAYLIST_CONTEXT_MENU),...c,children:[!p&&(0,n.jsx)(C.Zd,{onClick:k,isPinned:i.isPinned}),!i.isFavouritePlaylist&&(0,n.jsx)(C.xZ,{onClick:h,isLiked:i.isLiked}),(null===(e=i.trailer)||void 0===e?void 0:e.isAvailable)&&(0,n.jsx)(C.NB,{onClick:N,disabled:!i.isAvailable})]})});var k=i(74069),P=i.n(k);let L=(0,l.Pi)(t=>{let{className:e,playlist:i,children:l,contentLinesCount:x,customDescription:k}=t,{ref:L,intersectionPropertyId:N}=(0,_.VfV)(),{trailer:b,advert:S}=(0,_.oR4)(),{notify:j}=(0,_.d$W)(),{from:E,utmLink:T}=(0,_.MhG)({contextId:i.uuid,contextType:c.A.Playlist}),{formatMessage:w}=(0,r.Z)(),{sendLikeSearchFeedback:B,sendNavigateSearchFeedback:V,sendPlaySearchFeedback:A}=(0,_.sAF)(),[R,W]=(0,s.useState)(!1),[G,I]=(0,s.useState)(!1),[O,F]=(0,s.useState)(!1),z=(0,f.z)(i),D=(0,y.SB)(i),M=(0,y.BV)(i),U=(0,_.zxW)(),Z=(0,_.s0h)(i.url),Y=(0,_.s0h)(i.url,!0),K=(0,v.ik)(Y,Z),q=(0,_.FTC)(),$=(0,s.useCallback)(t=>{if(t.stopPropagation(),S.isAdvertShown){t.preventDefault(),j((0,n.jsx)(C.vd,{}),{containerId:_.W$x.INFO});return}b.setUtmLink(T),b.openPlaylistTrailer(i.id),q(o.OB.Playlist,i.id)},[i.id,q,b,T,S.isAdvertShown,j]),[H,J]=(0,s.useState)(!1),{isPlaying:Q,togglePlay:X}=(0,_.qmq)({playContextParams:{contextData:{type:c.A.Playlist,meta:{id:i.id,uuid:i.uuid},from:E,utmLink:T},loadContextMeta:!0}}),tt=(0,s.useCallback)(()=>{U({to:o.qU.PlaylistScreen}),null==V||V()},[U,V]),te=(0,s.useCallback)(t=>{tt(),K(t)},[K,tt]),ti=(0,s.useCallback)(()=>{R||Q||(W(!0),null==A||A()),X()},[Q,R,A,X]),tn=(0,s.useCallback)(()=>{G||i.isLiked||(I(!0),null==B||B()),D()},[D,G,i.isLiked,B]),ta=(0,s.useCallback)(t=>{t.preventDefault(),t.stopPropagation()},[]),tl=(0,s.useCallback)(()=>{F(!O),J(!O)},[O]),ts=(0,s.useMemo)(()=>{var t;return k?(0,n.jsx)(g.Caption,{variant:"span",type:"entity",size:"s",weight:"medium",lineClamp:2,children:k},i.getKey("description")):(null===(t=i.artists)||void 0===t?void 0:t.length)?(0,n.jsx)(v.jO,{className:P().artists,artists:i.artists,lineClamp:1,linkClassName:P().artistLink,captionSize:"s"},i.getKey("description")):void 0},[k,i]),tr=(0,s.useMemo)(()=>{if(!i.isFavouritePlaylist)return(0,n.jsx)(C.dJ,{className:(0,a.W)(P().likeButton,P().control),isLiked:i.isLiked,onClick:tn,variant:"default",size:"s",iconSize:"xxs"},i.getKey("LikeButton"))},[tn,i]),to=(0,s.useMemo)(()=>{var t;if(null==i?void 0:null===(t=i.trailer)||void 0===t?void 0:t.isAvailable)return(0,n.jsx)(C.xf,{children:(0,n.jsx)(C.eP,{className:(0,a.W)(P().trailerButton,P().control),radius:"round",size:"s",iconSize:"xxs",onClick:$},i.getKey("TrailerButton"))},i.getKey("PlaylilstCardTrailerTooltip"))},[$,i]),tu=(0,s.useMemo)(()=>(0,n.jsx)(p.Paper,{className:P().cover,radius:"s",withShadow:!0,...(0,u.BA)(u.bG.playlist.PLAYLIST_CARD),children:(0,n.jsxs)("div",{className:P().coverBlock,onClick:te,children:[(0,n.jsx)(C.BE,{className:P().image,src:i.coverUri,size:200,fit:"cover",alt:z,withAvatarReplace:!0,"aria-hidden":!0}),(0,n.jsx)(d.kk,{isVisible:O||H,className:P().controls,playControl:(0,n.jsx)(C.JM,{className:(0,a.W)(P().playButton,P().control),buttonVariant:"default",withHover:!1,iconSize:"xl",variant:"filled",onClick:ti,isPlaying:Q,disabled:!i.isAvailable},i.getKey("PlayButton")),likeControl:tr,menuControl:(0,n.jsx)(h,{playlist:i,onOpenChange:tl,open:O,onClick:ta,className:(0,a.W)(P().menuButton,P().control),icon:(0,n.jsx)(m.Icon,{size:"xxs",variant:"more"}),size:"s",...(0,u.BA)(u.bG.playlist.PLAYLIST_CONTEXT_MENU_BUTTON)},i.getKey("PlaylistContextMenu")),pinControl:(0,n.jsx)(C.RT,{onClick:M,isPinned:i.isPinned,className:(0,a.W)(P().pinButton,P().control),withRipple:!1},i.getKey("PinButton")),trailerControl:to})]})}),[te,i,z,O,H,ti,Q,tr,tl,ta,M,to]),tc=!!i.actualLikesCount&&!i.isLikesCountHidden;return(0,n.jsxs)(d.m7,{ref:L,"aria-label":z,className:(0,a.W)(P().root,e),title:(0,n.jsx)(g.Caption,{variant:"div",type:"entity",size:"s",weight:"medium",lineClamp:2,...(0,u.BA)(u.bG.playlist.PLAYLIST_TITLE),children:(0,n.jsx)(C.rU,{className:P().titleLink,href:i.url,onClick:tt,children:i.title})}),srTitle:(0,n.jsx)(C.rU,{href:i.url,onClick:tt,children:i.title}),"data-intersection-property-id":N,contentLinesCount:x,view:tu,description:ts,...(0,u.BA)(u.bG.playlist.PLAYLIST_ITEM),children:[tc&&(0,n.jsx)(C.DB,{ariaLabel:w({id:"entity-names.likes-counter"},{counter:i.actualLikesCount}),likesCount:i.actualLikesCount,isLiked:i.isLiked,handleLikeClick:D}),l]})})},75576:function(t,e,i){"use strict";i.d(e,{PlaylistsCarousel:function(){return o}});var n=i(65301),a=i(91207),l=i(29778),s=i(18801);let r=t=>{let{forwardRef:e,isShimmerVisible:i,isShimmerActive:a,title:r,description:o,playlists:u,containerClassName:c,className:d,headerClassName:m,viewAllActionLink:p,headingVariant:g,...v}=t;return(0,n.jsx)(l.HY,{isShimmerVisible:i,isShimmerActive:a,className:d,headerClassName:m,containerClassName:c,ref:e,title:r,description:o,viewAllActionLink:p,headingVariant:g,...v,children:null==u?void 0:u.map(t=>(0,n.jsx)(s.PlaylistCard,{playlist:t,contentLinesCount:3},t.key))})},o=(0,a.forwardRef)((t,e)=>(0,n.jsx)(r,{forwardRef:e,...t}))},38965:function(t,e,i){"use strict";i.d(e,{SearchPlaylistCard:function(){return f}});var n=i(65301),a=i(9695),l=i(96233),s=i(91207),r=i(37184),o=i(44729),u=i(55975),c=i(19489),d=i(60383),m=i(82036),p=i(81437),g=i(56198),v=i(29778),y=i(52484),_=i(30060),C=i.n(_);let f=(0,l.Pi)(t=>{let{className:e,playlist:i,pageId:l}=t,{ref:_,intersectionPropertyId:f}=(0,g.VfV)(),{from:x}=(0,g.MhG)({pageId:l}),h=(0,g.s0h)(i.url),k=(0,y.z)(i),P=i.title||"",{formatMessage:L}=(0,r.Z)(),{isPlaying:N,isCurrent:b,togglePlay:S}=(0,g.qmq)({playContextParams:{contextData:{type:c.A.Playlist,meta:{id:i.id,uuid:i.uuid},from:x},loadContextMeta:!0}}),j=(0,s.useCallback)(t=>{i.isAvailable&&((0,d.m)(t,v.$C.ripple),h())},[h,i.isAvailable]),E=(0,s.useCallback)(()=>{i.isAvailable&&h()},[h,i.isAvailable]),T=(0,s.useCallback)(t=>(0,n.jsx)(v.Df,{isAvailable:i.isAvailable,isDisliked:!1,coverUri:i.coverUri,title:P,className:v.$C.playButtonCell,...t}),[i,P]),w=null==T?void 0:T({onPlayButtonClick:S,isPlaying:N,isCurrent:b}),B=(0,s.useMemo)(()=>i.url&&i.isAvailable?(0,n.jsx)(v.rU,{className:(0,a.W)(v.$C.text,v.$C.titleLink),href:i.url,onClick:E,children:P}):(0,n.jsx)(p.Caption,{className:(0,a.W)(v.$C.text,v.$C.titleText),size:"m",variant:"div",type:"text",children:P}),[E,i.isAvailable,i.url,P]),V=(0,s.useMemo)(()=>{if(void 0===i.likesCount||void 0===i.tracksCount)return;let t=(0,n.jsx)(p.Caption,{variant:"span",size:"m",weight:"medium","aria-hidden":!0,children:"•"}),e="".concat(k," ").concat(L({id:"entity-names.tracks-count"},{value:i.tracksCount}));return(0,n.jsxs)("div",{className:C().description,"aria-label":e,children:[(0,n.jsxs)(p.Caption,{variant:"span",size:"m",weight:"medium","aria-hidden":!0,children:[(0,n.jsx)(m.Icon,{variant:"likeVariant",size:"xxs"}),i.likesCount]}),t,(0,n.jsx)(p.Caption,{variant:"span",size:"m",weight:"medium","aria-hidden":!0,children:(0,n.jsx)(o.Z,{id:"entity-names.tracks-count",values:{value:i.tracksCount}})})]})},[L,k,i.likesCount,i.tracksCount]);return(0,n.jsxs)(v.Md,{ref:_,"data-intersection-property-id":f,className:(0,a.W)(v.$C.root,{[v.$C.root_disabled]:!i.isAvailable},e),"aria-label":i.title||L({id:"entity-names.playlist"}),onClick:j,...(0,u.BA)(u.bG.playlist.SEARCH_PLAYLIST_CARD),children:[w,(0,n.jsx)(v.u,{isDisabled:!i.isAvailable,title:B,description:V}),(0,n.jsx)("div",{className:v.$C.controlsBarCell,children:(0,n.jsx)(m.Icon,{className:v.$C.buttonArrow,variant:"arrowRight",size:"xs"})})]})})},99063:function(t,e,i){"use strict";i.d(e,{uj:function(){return u.TagPage},tS:function(){return o}});var n=i(2685),a=i(49430),l=i(50684),s=i(56198),r=i(91694);let o=n.V5.model("TagPage",{title:n.V5.maybe(n.V5.string),errorStatusCode:n.V5.maybeNull(n.V5.number),tagLoadingState:n.V5.enumeration(Object.values(s.Gui)),playlistsLoadingState:n.V5.enumeration(Object.values(s.Gui)),playlistsData:n.V5.array(n.V5.model({uid:n.V5.number,kind:n.V5.number})),playlists:n.V5.array(n.V5.maybeNull(l.Cd)),pager:n.V5.maybeNull(r.Vn),alreadyRequestedPages:n.V5.map(n.V5.number),pendingPages:n.V5.map(n.V5.number),requests:n.V5.maybeNull(n.V5.number)}).views(t=>({get isNotFound(){let e=t.playlistsLoadingState===s.Gui.RESOLVE&&0===t.playlists.length;return(t.tagLoadingState===s.Gui.REJECT||t.playlistsLoadingState===s.Gui.REJECT)&&(t.errorStatusCode===a.CN.NOT_FOUND||t.errorStatusCode===a.CN.BAD_REQUEST)||e}})).actions(t=>{let e={getPlaylists:(0,n.ls)(function*(e){let{page:i=0,pageSize:r=20}=e,{playlistsResource:o,modelActionsLogger:u}=(0,n.dU)(t);if(!(t.tagLoadingState!==s.Gui.RESOLVE||t.playlistsLoadingState===s.Gui.PENDING&&t.pendingPages.has("".concat(i))||t.alreadyRequestedPages.has("".concat(i)))){t.alreadyRequestedPages.set("".concat(i),i);try{var c;t.playlistsLoadingState=s.Gui.PENDING,t.pendingPages.set("".concat(i),i);let e=i*r,a=t.playlistsData.slice(e,e+r),u=yield o.getPlaylists({playlistIds:a.map(t=>"".concat(t.uid,":").concat(t.kind)),resumeStream:!1});t.requests=(null!==(c=t.requests)&&void 0!==c?c:0)+1;let d={page:i,perPage:r,total:t.playlistsData.length};0===t.playlists.length&&(t.playlists=(0,n.pj)(Array.from({length:d.total},()=>null)));let m=u.playlists.map(l.PV);(0,s.AG_)({items:t.playlists,mappedRawItems:m,page:i,pageSize:r}),t.pager=d,t.playlistsLoadingState!==s.Gui.IDLE&&(t.playlistsLoadingState=s.Gui.RESOLVE)}catch(e){u.error(e),e instanceof a.du&&(e.statusCode===a.CN.NOT_FOUND||e.statusCode===a.CN.BAD_REQUEST)&&(t.errorStatusCode=a.CN.NOT_FOUND),t.playlistsLoadingState!==s.Gui.IDLE&&(t.playlistsLoadingState=s.Gui.REJECT)}finally{t.pendingPages.delete("".concat(i))}}}),reset(){t.tagLoadingState=s.Gui.IDLE,t.playlistsLoadingState=s.Gui.IDLE,t.alreadyRequestedPages.clear(),t.pendingPages.clear(),t.title=void 0,t.playlistsData=(0,n.pj)([]),t.playlists=(0,n.pj)([]),t.errorStatusCode=null},getTag:(0,n.ls)(function*(i){let{id:l,page:r=0,pageSize:o=20}=i,{tagResource:u,modelActionsLogger:c}=(0,n.dU)(t);if(t.tagLoadingState!==s.Gui.PENDING)try{var d;t.tagLoadingState=s.Gui.PENDING;let i=yield u.getPlaylistIds({id:l});t.title=null===(d=i.tag)||void 0===d?void 0:d.name,t.playlistsData=(0,n.pj)(i.ids.map(t=>({uid:t.uid,kind:t.kind}))),t.tagLoadingState!==s.Gui.IDLE&&(t.tagLoadingState=s.Gui.RESOLVE),yield e.getPlaylists({page:r,pageSize:o})}catch(e){c.error(e),e instanceof a.du&&(e.statusCode===a.CN.NOT_FOUND||e.statusCode===a.CN.BAD_REQUEST)&&(t.errorStatusCode=a.CN.NOT_FOUND),t.tagLoadingState!==s.Gui.IDLE&&(t.tagLoadingState=s.Gui.REJECT)}})};return e});i(79367);var u=i(90787)},79367:function(t,e,i){"use strict";i.d(e,{TagNotFoundPage:function(){return s}});var n=i(65301),a=i(96233),l=i(32544);let s=(0,a.Pi)(()=>(0,n.jsx)(l.T,{}))},90787:function(t,e,i){"use strict";i.d(e,{TagPage:function(){return _}});var n=i(65301),a=i(9695),l=i(96233),s=i(99678),r=i(91207),o=i(37184),u=i(81437),c=i(36643),d=i(21016),m=i(81706),p=i(56198),g=i(29778),v=i(1096),y=i.n(v);let _=(0,l.Pi)(t=>{var e,i,l;let{tagId:v}=t,{tag:_,settings:{isMobile:C}}=(0,p.oR4)(),{formatMessage:f}=(0,o.Z)(),{contentScrollRef:x,setContentScrollRef:h}=(0,p.$Y6)(),k=(0,p.k67)();v||(0,s.notFound)();let P=(0,r.useCallback)(t=>{_.getPlaylists({page:t,pageSize:20})},[_]);_.tagLoadingState===p.Gui.IDLE&&(0,r.use)(_.getTag({id:v,page:0,pageSize:20})),_.isNotFound&&(0,s.notFound)(),(0,r.useEffect)(()=>()=>{_.reset()},[_]);let L=(0,r.useMemo)(()=>({Footer:()=>(0,n.jsx)(g.$_,{className:y().footer})}),[]);return((0,p.NOh)(_.tagLoadingState===p.Gui.RESOLVE&&_.playlistsLoadingState===p.Gui.RESOLVE),_.tagLoadingState!==p.Gui.REJECT&&_.playlistsLoadingState!==p.Gui.REJECT||_.isNotFound)?(0,n.jsx)(p.Lh6,{pageId:p.Rhz.TAG,children:(0,n.jsx)(d.I7,{scrollElement:x,outerTitle:_.title,children:(0,n.jsxs)("div",{className:y().root,children:[(0,n.jsx)(g.h4,{variant:"text",withForwardControl:!1,withBackwardControl:k.canBack,children:(0,n.jsx)(u.Heading,{variant:"h2",weight:"bold",size:"xl",lineClamp:1,children:_.title})}),(0,n.jsx)(g.Wv,{className:(0,a.W)(y().scrollContainer,y().important),customComponents:L,itemContentCallback:t=>{var e;let i=null==_?void 0:null===(e=_.playlists)||void 0===e?void 0:e[t],a=f({id:"loading-messages.entity-is-loading"},{entityName:f({id:"entity-names.playlist"})});return i?(0,n.jsx)(m.ZL,{playlist:i,contentLinesCount:3},i.key):(0,n.jsx)(g.hi,{"aria-label":a})},totalCount:null!==(i=null==_?void 0:null===(e=_.pager)||void 0===e?void 0:e.total)&&void 0!==i?i:0,onGetDataByPage:P,pageSize:20,totalRequests:null!==(l=_.requests)&&void 0!==l?l:0,listClassName:y().content,itemClassName:y().item,handleRef:h,context:{listAriaLabel:f({id:"mixes.albums-list"},{genreName:_.title||""})},isMobileLayout:C,useWindowScroll:C})]})})}):(0,n.jsx)(c.D,{})})},32544:function(t,e,i){"use strict";i.d(e,{T:function(){return n.NotFound}});var n=i(40334)},40334:function(t,e,i){"use strict";i.d(e,{NotFound:function(){return g}});var n=i(65301),a=i(9695),l=i(96233),s=i(44729),r=i(78372),o=i(82036),u=i(81437),c=i(56198),d=i(29778),m=i(36625),p=i.n(m);let g=(0,l.Pi)(t=>{let{className:e}=t,{contentRef:i}=(0,c.$Y6)(),l=(0,c.s0h)("/");return(0,c.ZP4)(!0),(0,n.jsxs)("div",{className:(0,a.W)(p().root,{[p().root_desktop]:!i},e),children:[(0,n.jsx)(d.nP,{withBackwardFallback:"/",className:p().navigation,withForwardControl:!1}),(0,n.jsxs)("div",{className:p().content,children:[(0,n.jsx)(o.Icon,{className:p().icon,variant:"musicLogo",size:"xxl"}),(0,n.jsx)(u.Heading,{className:(0,a.W)(p().title,p().important),variant:"h3",size:"xs",children:(0,n.jsx)(s.Z,{id:"page-error.page-does-not-exist"})}),(0,n.jsx)(u.Caption,{className:(0,a.W)(p().text,p().important),variant:"span",type:"text",size:"l",weight:"normal",children:(0,n.jsx)(s.Z,{id:"page-error.page-does-not-exist-description"})}),(0,n.jsx)(r.z,{onClick:l,className:p().button,role:"link",color:"secondary",size:"l",radius:"xxxl",children:(0,n.jsx)(u.Caption,{type:"controls",variant:"span",size:"m",children:(0,n.jsx)(s.Z,{id:"navigation.page-main"})})})]})]})})},36643:function(t,e,i){"use strict";i.d(e,{D:function(){return n.SomethingWentWrong}});var n=i(87407)},87407:function(t,e,i){"use strict";i.d(e,{SomethingWentWrong:function(){return v}});var n=i(65301),a=i(9695),l=i(96233),s=i(91207),r=i(44729),o=i(78372),u=i(82036),c=i(81437),d=i(56198),m=i(29778),p=i(60637),g=i.n(p);let v=(0,l.Pi)(t=>{let{className:e,withBackwardControl:i=!0}=t,l=(0,s.useCallback)(()=>{window.location.href="/"},[]),{contentRef:p}=(0,d.$Y6)();return(0,n.jsxs)("div",{className:(0,a.W)(g().root,e),children:[i&&(0,n.jsx)(m.nP,{withBackwardFallback:"/",className:(0,a.W)(g().navigation,{[g().navigation_desktop]:!p}),withForwardControl:!1}),(0,n.jsxs)("div",{className:(0,a.W)(g().content,{[g().content_shrink]:!i}),children:[(0,n.jsx)(u.Icon,{className:g().icon,variant:"attention",size:"xxl"}),(0,n.jsx)(c.Heading,{className:(0,a.W)(g().title,g().important),variant:"h3",size:"xs",children:(0,n.jsx)(r.Z,{id:"error-messages.something-went-wrong"})}),(0,n.jsxs)(c.Caption,{className:(0,a.W)(g().text,g().important),variant:"span",type:"text",size:"l",weight:"normal",children:[!1,(0,n.jsx)(r.Z,{id:"page-error.try-to-restart-app"})]}),(0,n.jsx)(o.z,{onClick:l,className:g().button,role:"link",color:"secondary",size:"l",radius:"xxxl",children:(0,n.jsxs)(c.Caption,{type:"controls",variant:"span",size:"m",children:[!1,(0,n.jsx)(r.Z,{id:"page-error.restart-app-button"})]})})]})]})})},97820:function(t){t.exports={root:"EmptyPlaylistBlock_root__wpA0j",iconBackground:"EmptyPlaylistBlock_iconBackground__pnUlz",title:"EmptyPlaylistBlock_title__pQQLf",subtitle:"EmptyPlaylistBlock_subtitle__P4Q7x"}},74069:function(t){t.exports={root:"PlaylistCard_root__i3pR4",controls:"PlaylistCard_controls__Ej8Rz",cover:"PlaylistCard_cover__tpK5L",coverBlock:"PlaylistCard_coverBlock__1slsN",image:"PlaylistCard_image__Li6oy",titleLink:"PlaylistCard_titleLink__H8qEc",artists:"PlaylistCard_artists__HtVIF",artistLink:"PlaylistCard_artistLink__jx3KB",playButton:"PlaylistCard_playButton__eaduk",likeButton:"PlaylistCard_likeButton__RYXJz",menuButton:"PlaylistCard_menuButton__jFcWr",pinButton:"PlaylistCard_pinButton__jhWnL",trailerButton:"PlaylistCard_trailerButton__Qjg_U",control:"PlaylistCard_control__73YUq"}},30060:function(t){t.exports={description:"SearchPlaylistCard_description__MkUPV"}},1096:function(t){t.exports={root:"TagPage_root__EWN9A",scrollContainer:"TagPage_scrollContainer__lvG_1",important:"TagPage_important__Jq37E",content:"TagPage_content__rUC_l",footer:"TagPage_footer__W0mZr",item:"TagPage_item__X_lW7"}},36625:function(t){t.exports={root:"NotFound_root__47ZX6",root_desktop:"NotFound_root_desktop___QqSb",navigation:"NotFound_navigation__q8rIW",content:"NotFound_content__3kry_",icon:"NotFound_icon___Wa9y",title:"NotFound_title__akG_o",important:"NotFound_important__z1LWl",text:"NotFound_text__oxDZv",button:"NotFound_button__jF4uH"}},60637:function(t){t.exports={root:"SomethingWentWrong_root__d77VJ",content:"SomethingWentWrong_content__8_YkJ",content_shrink:"SomethingWentWrong_content_shrink__GOR_7",navigation:"SomethingWentWrong_navigation__a8eMG",navigation_desktop:"SomethingWentWrong_navigation_desktop__WGGBX",icon:"SomethingWentWrong_icon__f15_y",title:"SomethingWentWrong_title__Kn89B",important:"SomethingWentWrong_important__namIb",text:"SomethingWentWrong_text__KEfGc",button:"SomethingWentWrong_button__dmh7t"}},60816:function(t,e,i){"use strict";var n,a;i.d(e,{o:function(){return n}}),(a=n||(n={})).UNKNOWN="unknown",a.MALE="male",a.FEMALE="female"}},function(t){t.O(0,[5153,6072,1884,438,7425,6849,85,5453,7873,7311,9778,1694,721,3504,2291,1744],function(){return t(t.s=68557)}),_N_E=t.O()}]);