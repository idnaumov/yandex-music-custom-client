"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1990],{22473:function(e,t,i){i.d(t,{Z:function(){return u}});var r,l,s=i(71859),n={5881:(e,t,i)=>{function r(){for(var e,t,i=0,r="";i<arguments.length;)(e=arguments[i++])&&(t=function e(t){var i,r,l="";if("string"==typeof t||"number"==typeof t)l+=t;else if("object"==typeof t){if(Array.isArray(t))for(i=0;i<t.length;i++)t[i]&&(r=e(t[i]))&&(l&&(l+=" "),l+=r);else for(i in t)t[i]&&(l&&(l+=" "),l+=i)}return l}(e))&&(r&&(r+=" "),r+=t);return r}i.r(t),i.d(t,{clsx:()=>r,default:()=>l});let l=r},8635:(e,t,i)=>{i.r(t),i.d(t,{default:()=>r});let r={root:"cpeagBA1_PblpJn8Xgtv",root_withoutBorder:"qU2apWBO1yyEK0lZ3lPO",root_radius_xs:"MmZbSs387gu2qrJ1lDWd",root_radius_s:"mlcrraysn7mW6xrBXSBF",root_radius_m:"dgV08FKVLZKFsucuiryn",root_radius_l:"S97_5dtzhpxo_amtfYRg",root_radius_xl:"nNBJnDHRlyLTniWosJhk",root_radius_xxxl:"zIMibMuH7wcqUoW7KH1B",root_radius_round:"uwk3hfWzB2VT7kE13SQk",root_size:"IlG7b1K0AD7E7AMx6F5p",root_size_default:"C_QGmfTz6UFX93vfPt6Z",root_size_xxxs:"eQt33MLDiQ6DRSuLaYEp",root_size_xxs:"oR11LfCBVqMbUJiAgknd",root_size_xs:"j1jXIVckFgZECecFzZMe",root_size_s:"WtFdWDF44egSVM_YiMUX",root_size_m:"Y2uqxoU7xa_AZ8FUCVOW",root_size_l:"SGYcNjvjmMsXeEVGUV2Z",root_icon_left:"kc5CjvU5hT9KEj0iTt3C",root_icon_right:"et24Jf7pT_X9Fvc7TznR",root_primary:"fXlFz1qMkliFUWOkHo8T",root_primary_default:"_eTRQi5ADZCUvUKMZqJU",ripple:"spMT3NcRD9Yb0ntNaNct",root_primary_outline:"fCUSh2B0Ye9kEvceE8zc",root_primary_text:"qlPp6CSQQEMVZPqtqLiQ",root_primary_withHover:"KZF6_4K1p_Y_GMIAxaAn",root_primary_withHover_default:"rWukOKAJh5Ga7JuIp62L",root_primary_withHover_outline:"fdwWCJKgUqml5wNqrRcN",root_primary_withHover_text:"IgYbZLnYjW0nMahgpkus",root_secondary:"_T4p_w41oaq6L4sztSdw",root_secondary_default:"iJVAJMgccD4vj4E4o068",root_secondary_outline:"pnM3iSP9keZOELI2oohr",root_secondary_text:"UDMYhpDjiAFT3xUx268O",root_secondary_withHover:"qUbrkhZIOVrvM0roV1QF",root_secondary_withHover_default:"nHWc2sto1C6Gm0Dpw_l0",root_secondary_withHover_outline:"i5WuBm5mfG0mflk_1jH_",root_secondary_withHover_text:"HbaqudSqu7Q3mv3zMPGr",root_plus:"ixLRsIJ2FvXO2k04n_QY",root_plus_default:"yRHwHzEGfDgRXGzYJqw2",root_plus_outline:"e777irPFmyQFFrURLF_U",root_plus_text:"vRqDhvmt3gt8TFp45_Zw",root_plus_withHover:"TZif6q3I2RwBEYXwK_iA",root_plus_withHover_default:"k3DhvmzpnM_Fb9oFdE4q",root_plus_withHover_outline:"RiDWYwGIxqbrUPR699DM",root_plus_withHover_text:"hC_mMCzWjkTn2j9xZzGc",root_accent:"jqD2jMT6n7F0WKyqwMsn",root_accent_default:"bDp0r9MtoYECZ8ObMoCh",root_accent_outline:"rXNyGp8NBAw2MUjACZNj",root_accent_text:"hmV4ERaXWAJc4uPLZL30",root_accent_withHover:"uKuxXu1N4TP5cWaEK5Ke",root_accent_withHover_default:"t_hequUaUgAMhFuxizLb",root_accent_withHover_outline:"Oy9sPFTxNTo1_E29U4aF",root_accent_withHover_text:"LcKRSd3DLoh7k60Oqox8",block:"BbCxxIjBGupN28bq2lSP",iconContainer:"NfB1qSw6DnoSwTr9I5mE",iconContainer_block:"cM0M40YHieFFCTYRgOZa",flexIcon:"WsKeF73pWotx9W1tWdYY",icon:"J9wTKytjOWG73QMoN5WP",icon_position_left:"elJfazUBui03YWZgHCbW",icon_position_right:"RBoEbyJKP5rEtLsXM1ji",icon_withButtonSize:"cE17_kCWJgx8kzQEkeVr"}},5677:(e,t,i)=>{i.r(t),i.d(t,{default:()=>r});let r={root:"rqUESGQ8jp3tbDawOzuG",root_checked:"GJh5PwV9GyFuKhlG6pQz",icon:"aw9IoPC0GuAC7Hmf825u",icon_checked:"KC8t9NStVmQ1_VY54KH4"}},6161:(e,t,i)=>{var r=i(810),l=Symbol.for("react.element"),s=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,i){var r,s={},c=null,u=null;for(r in void 0!==i&&(c=""+i),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)n.call(t,r)&&!o.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:l,type:e,key:c,ref:u,props:s,_owner:a.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},9541:(e,t,i)=>{e.exports=i(6161)},8796:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createRipple=void 0,t.createRipple=function(e,t,i){let r=null!=i?i:e.currentTarget,l=document.createElement("span"),s=Math.max(r.clientWidth,r.clientHeight),n=s/2,a=r.getBoundingClientRect(),o=0===e.clientX?Math.round(a.width/2):e.clientX-a.left,c=0===e.clientY?Math.round(a.height/2):e.clientY-a.top;l.style.width="".concat(s,"px"),l.style.height="".concat(s,"px"),l.style.left=0===e.clientX?"0px":"".concat(o-n,"px"),l.style.top="".concat(c-n,"px"),l.classList.add(t);let u=r.getElementsByClassName(t)[0];u&&u.remove(),r.insertBefore(l,r.firstChild)}},361:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getElementFromRefOrElement=void 0,t.getElementFromRefOrElement=e=>void 0===e?void 0:null===e||e instanceof HTMLElement?e:null===e.current||e.current instanceof HTMLElement?e.current:void 0},8216:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getElementFromRefOrElement=t.createRipple=void 0;var r=i(8796);Object.defineProperty(t,"createRipple",{enumerable:!0,get:function(){return r.createRipple}});var l=i(361);Object.defineProperty(t,"getElementFromRefOrElement",{enumerable:!0,get:function(){return l.getElementFromRefOrElement}})},8119:function(e,t,i){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Button=void 0;let l=i(9541),s=i(810),n=i(5881),a=i(8216),o=r(i(8635)),c=e=>{let{forwardRef:t,isBlock:i,iconPosition:r="left",children:c,className:u,color:d="secondary",flexIcon:m,icon:p,role:g,onClick:f,radius:y="m",size:k,type:_="button",variant:v="default",withRipple:b=!0,withHover:E=!0,withBorder:V=!1,disabled:h,iconClassName:x,iconContainerClassName:I,...O}=e,R=(0,s.useId)(),S=!s.Children.toArray(c).filter(Boolean).length,T="left"===r,w=null;if(p){var A,L;w=(0,s.cloneElement)(p,{className:(0,n.clsx)(o.default.icon,{[o.default["icon_position_".concat(r)]]:r&&!S,[o.default.icon_withButtonSize]:!(null===(A=p.props)||void 0===A?void 0:A.size)},null===(L=p.props)||void 0===L?void 0:L.className,x),key:R})}let M=(0,s.useCallback)(e=>{b&&(0,a.createRipple)(e,o.default.ripple),null==f||f(e)},[f,b]);return(0,l.jsx)("button",{ref:t,className:(0,n.clsx)(o.default.root,o.default["root_".concat(d,"_").concat(v)],o.default["root_radius_".concat(y)],o.default.root_size,{[o.default["root_".concat(d,"_withHover_").concat(v)]]:E&&!h,[o.default["root_size_".concat(k)]]:k,[o.default.root_withoutBorder]:!V,[o.default.block]:i,[o.default.flexIcon]:m,[o.default.iconOnly]:S,[o.default.root_icon_left]:p&&!S&&T,[o.default.root_icon_right]:p&&!S&&!T},u),type:_,role:g,onClick:M,...O,disabled:h,children:p?(0,l.jsxs)("span",{className:(0,n.clsx)(o.default.iconContainer,{[o.default.iconContainer_block]:i},I),children:[T&&w,!S&&c,!T&&w]}):c})};t.Button=(0,s.forwardRef)((e,t)=>(0,l.jsx)(c,{forwardRef:t,...e}))},5928:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Button=void 0;var r=i(8119);Object.defineProperty(t,"Button",{enumerable:!0,get:function(){return r.Button}})},7459:function(e,t,i){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Toggle=void 0;let l=i(9541),s=i(5881),n=i(810),a=i(5928),o=r(i(5677)),c=e=>{let{isChecked:t}=e;return(0,l.jsx)("div",{className:(0,s.clsx)(o.default.icon,{[o.default.icon_checked]:t})})};t.Toggle=e=>{let{className:t,isChecked:i=!1,onChange:r,"aria-label":u,"aria-describedby":d,...m}=e,[p,g]=(0,n.useState)(i),f=(0,n.useCallback)(()=>{let e=!p;g(e),null==r||r(e)},[p,r]);return(0,n.useEffect)(()=>{g(i)},[i]),(0,l.jsx)(a.Button,{className:(0,s.clsx)(o.default.root,{[o.default.root_checked]:p},t),radius:"xxxl",variant:"default",icon:(0,l.jsx)(c,{isChecked:p}),withRipple:!1,onClick:f,role:"switch","aria-checked":p,"aria-label":u,"aria-describedby":d,...m,color:p?"primary":"secondary"})}},810:e=>{e.exports=l||(l=i.t(s,2))}},a={};function o(e){var t=a[e];if(void 0!==t)return t.exports;var i=a[e]={exports:{}};return n[e].call(i.exports,i,i.exports,o),i.exports}o.d=(e,t)=>{for(var i in t)o.o(t,i)&&!o.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var c={};Object.defineProperty(c,"X",{value:!0}),c.Z=void 0,r=o(7459),Object.defineProperty(c,"Z",{enumerable:!0,get:function(){return r.Toggle}});var u=c.Z;c.X},15526:function(e,t,i){i.d(t,{KL:function(){return u},S2:function(){return d},Ib:function(){return m},K8:function(){return g},i_:function(){return _},ie:function(){return x},n4:function(){return R},T2:function(){return A},fE:function(){return L},CU:function(){return M},Vn:function(){return C},ao:function(){return j},$4:function(){return U},tC:function(){return F}});var r,l,s,n,a,o,c=i(97898);let u=c.V5.model("BaseModalModel",{isOpened:c.V5.optional(c.V5.boolean,!1)}).actions(e=>({onOpenChange(t){e.isOpened=t},open(){e.isOpened=!0},close(){e.isOpened=!1}})),d=c.V5.model("CaseForms",{nominative:c.V5.optional(c.V5.string,""),genitive:c.V5.optional(c.V5.string,""),dative:c.V5.optional(c.V5.string,""),accusative:c.V5.optional(c.V5.string,""),instrumental:c.V5.optional(c.V5.string,""),prepositional:c.V5.optional(c.V5.string,"")}),m=c.V5.model("Cover",{uri:c.V5.maybe(c.V5.string),color:c.V5.maybe(c.V5.string),videoUrl:c.V5.maybe(c.V5.string)});var p=i(9044);let g=c.V5.model("DomainTrailerEntity",{available:c.V5.boolean}).views(e=>({get canShow(){if(!(0,c.fh)(e))return!1;let{experiments:t}=(0,c.yj)(e);return t.checkExperiment(p.p.WebNextEntityTrailer,"on")&&t.checkExperiment(p.p.WebNextSwitchToStrmWithoutEncrypt,"on")&&e.available}}));var f=i(46752),y=i(84214);let k=c.V5.model("Experiment",{group:c.V5.maybe(c.V5.string),value:c.V5.maybe(c.V5.frozen())}),_=c.V5.model("Experiments",{loadingState:c.V5.enumeration(Object.values(f.G)),experiments:c.V5.optional(c.V5.map(k),{}),overwrittenExperiments:c.V5.optional(c.V5.map(k),{})}).views(e=>({getOverwrittenExperiments(){let{containerStorage:t,config:i}=(0,c.dU)(e);return i.dev.allowOverwriteExperiments?t.get(y.B.OverwrittenExperiments):null},getExperiment(t){var i;let r=e.experiments.get(t),l=this.getOverwrittenExperiments();return l&&null!==(i=l[t])&&void 0!==i?i:r},checkExperiment(t,i){return (this.getOverwrittenExperiments()?.[t]?.group ?? (window?.DEFAULT_EXPERIMENT_OVERRIDES())?.[t] ?? e.experiments.get(t)?.group) === i;},isRejected:()=>e.loadingState===f.G.REJECT})).actions(e=>({getData:(0,c.ls)(function*(){let{accountResource:t,modelActionsLogger:i}=(0,c.dU)(e);if(e.loadingState!==f.G.PENDING)try{e.loadingState=f.G.PENDING;let i=yield t.experimentsDetails();e.experiments.clear(),Object.entries(i).forEach(t=>{let[i,r]=t;e.experiments.set(i,r)}),e.loadingState=f.G.RESOLVE}catch(t){i.error(t),e.loadingState=f.G.REJECT}finally{var r;Object.entries(null!==(r=e.getOverwrittenExperiments())&&void 0!==r?r:{}).forEach(t=>{let[i,r]=t;e.overwrittenExperiments.set(i,r)})}}),updateOverwrittenExperiments(t,i){let{config:r}=(0,c.dU)(e);r.dev.allowOverwriteExperiments&&e.overwrittenExperiments.set(t,i)},deleteOverwrittenExperiments(t){let{config:i}=(0,c.dU)(e);i.dev.allowOverwriteExperiments&&e.overwrittenExperiments.delete(t)}}));var v=i(39071),b=i(62812),E=i(81337),V=i(7709),h=i(20794);let x=c.V5.model("ExplicitModel",{contentWarning:c.V5.maybe(c.V5.enumeration(Object.values(v.F))),trackType:c.V5.maybe(c.V5.enumeration(Object.values(b.V))),disclaimers:c.V5.maybe(c.V5.array(c.V5.string))}).views(e=>({get isExplicit(){return e.contentWarning===v.F.EXPLICIT},get explicitDisclaimer(){var t,i;if(null===(t=e.disclaimers)||void 0===t?void 0:t.includes(E.e.EXPLICIT))return V.ExplicitMarkVariant.E;if(null===(i=e.disclaimers)||void 0===i?void 0:i.includes(E.e.AGE_18))return V.ExplicitMarkVariant.NUMERIC;return null},get apiExplicitMark(){if(!this.isExplicit)return null;let e=this.explicitDisclaimer;if(!e&&this.isExplicit)return V.ExplicitMarkVariant.E;return e},get albumExplicitMark(){let{experiments:t}=(0,c.yj)(e);if(null==t?void 0:t.checkExperiment(h.peG.WebNextNewExplicitApi,"on"))return this.apiExplicitMark;if(e.contentWarning===v.F.EXPLICIT&&e.disclaimers)return e.disclaimers[0]===v.F.EXPLICIT?V.ExplicitMarkVariant.E:V.ExplicitMarkVariant.NUMERIC;return null},get trackExplicitMark(){let{experiments:t}=(0,c.yj)(e);if(t.checkExperiment(h.peG.WebNextNewExplicitApi,"on"))return this.apiExplicitMark;if(e.contentWarning===v.F.EXPLICIT)return b.V.PODCAST===e.trackType?V.ExplicitMarkVariant.NUMERIC:V.ExplicitMarkVariant.E;return null},get clipExplicitMark(){let{experiments:t}=(0,c.yj)(e);if(null==t?void 0:t.checkExperiment(h.peG.WebNextNewExplicitApi,"on"))return this.apiExplicitMark;if(e.contentWarning===v.F.EXPLICIT&&e.disclaimers)return e.disclaimers[0]===v.F.EXPLICIT?V.ExplicitMarkVariant.E:V.ExplicitMarkVariant.NUMERIC;return null}}));(r=n||(n={}))[r.LIKED=1]="LIKED",r[r.DISLIKED=-1]="DISLIKED";var I=i(30821);(l=a||(a={})).LIKED="1",l.DISLIKED="0";let O=c.V5.optional(c.V5.map(c.V5.enumeration(Object.values(a))),{}),R=c.V5.model("LibraryAllIds",{loadingState:c.V5.enumeration(Object.values(f.G)),tracks:O,albums:O,artists:O,playlists:O}).views(e=>({isTrackLiked:t=>"1"===e.tracks.get(String(t)),isTrackDisliked:t=>"0"===e.tracks.get(String(t)),isArtistLiked:t=>"1"===e.artists.get(String(t)),isArtistDisliked:t=>"0"===e.artists.get(String(t)),isAlbumLiked:t=>"1"===e.albums.get(String(t)),isPlaylistLiked:t=>"1"===e.playlists.get(String(t)),get dislikedTracksIds(){let t=[];return e.tracks.forEach((e,i)=>{"0"===e&&t.push(i)}),t}})).actions(e=>{let t={setRecords(e,t){if(t){for(let i in t)if(Object.prototype.hasOwnProperty.call(t,i)){let r=t[i]===n.LIKED?"1":"0";e.set(String(i),r)}}},getData:(0,c.ls)(function*(){let{libraryResource:i,modelActionsLogger:r}=(0,c.dU)(e);if(e.loadingState!==f.G.PENDING)try{e.loadingState=f.G.PENDING;let r=yield i.getAllIds({});e.albums.clear(),e.artists.clear(),e.playlists.clear(),e.tracks.clear(),t.setRecords(e.tracks,r.defaultLibrary),t.setRecords(e.albums,r.albums),t.setRecords(e.artists,r.artists),t.setRecords(e.playlists,r.playlists),e.loadingState=f.G.RESOLVE}catch(t){r.error(t),e.loadingState=f.G.REJECT}}),toggleTrackLike:(0,c.ls)(function*(t){let{usersResource:i,modelActionsLogger:r}=(0,c.dU)(e),l=String(t.entityId),s=e.tracks.get(l);try{let r;let s={entityId:t.albumId?"".concat(t.entityId,":").concat(t.albumId):t.entityId,userId:t.userId};return"1"===e.tracks.get(l)?(e.tracks.delete(l),r=yield i.unlikeTrack(s)):(e.tracks.set(l,"1"),r=yield i.likeTrack(s)),r}catch(t){return s?e.tracks.set(l,s):e.tracks.delete(l),r.error(t),I.B.ERROR}}),toggleTrackDislike:(0,c.ls)(function*(t){let{usersResource:i,modelActionsLogger:r}=(0,c.dU)(e),l=String(t.entityId),s=e.tracks.get(l);try{let r;let s={entityId:t.albumId?"".concat(t.entityId,":").concat(t.albumId):t.entityId,userId:t.userId};return"0"===e.tracks.get(l)?(e.tracks.delete(l),r=yield i.undislikeTrack(s)):(e.tracks.set(l,"0"),r=yield i.dislikeTrack(s)),r}catch(t){return s?e.tracks.set(l,s):e.tracks.delete(l),r.error(t),I.B.ERROR}}),toggleArtistLike:(0,c.ls)(function*(t){let{usersResource:i,modelActionsLogger:r}=(0,c.dU)(e),l=String(t.entityId),s=e.artists.get(l);try{let r;return"1"===e.artists.get(l)?(e.artists.delete(l),r=yield i.unlikeArtist(t)):(e.artists.set(l,"1"),r=yield i.likeArtist(t)),r}catch(t){return s?e.artists.set(l,s):e.artists.delete(l),r.error(t),I.B.ERROR}}),toggleArtistDislike:(0,c.ls)(function*(t){let{usersResource:i,modelActionsLogger:r}=(0,c.dU)(e),l=String(t.entityId),s=e.artists.get(l);try{let r;return"0"===e.artists.get(l)?(e.artists.delete(l),r=yield i.undislikeArtist(t)):(e.artists.set(l,"0"),r=yield i.dislikeArtist(t)),r}catch(t){return s?e.artists.set(l,s):e.artists.delete(l),r.error(t),I.B.ERROR}}),toggleAlbumLike:(0,c.ls)(function*(t){let{usersResource:i,modelActionsLogger:r}=(0,c.dU)(e),l=String(t.entityId),s=e.albums.get(l);try{let r;return"1"===e.albums.get(l)?(e.albums.delete(l),r=yield i.unlikeAlbum(t)):(e.albums.set(l,"1"),r=yield i.likeAlbum(t)),r}catch(t){return s?e.albums.set(l,s):e.albums.delete(l),r.error(t),I.B.ERROR}}),togglePlaylistLike:(0,c.ls)(function*(t){let{usersResource:i,modelActionsLogger:r}=(0,c.dU)(e),l=String(t.entityId),s=e.playlists.get(l);try{let r;return"1"===e.playlists.get(l)?(e.playlists.delete(l),r=yield i.unlikePlaylist(t)):(e.playlists.set(l,"1"),r=yield i.likePlaylist(t)),r}catch(t){return s?e.playlists.set(l,s):e.playlists.delete(l),r.error(t),I.B.ERROR}})};return t}),S=e=>e?{revision:e}:{allValuesRequired:!0};(s=o||(o={})).LIKED="1",s.DISLIKED="0";let T=c.V5.optional(c.V5.map(c.V5.enumeration(Object.values(o))),{}),w=c.V5.model("LibraryRecord",{revision:c.V5.maybeNull(c.V5.number),items:T}),A=c.V5.model("LibrarySync",{loadingState:c.V5.enumeration(Object.values(f.G)),tracks:w,albums:w,artists:w,playlists:w}).views(e=>({isTrackLiked:t=>"1"===e.tracks.items.get(String(t)),isTrackDisliked:t=>"0"===e.tracks.items.get(String(t)),isArtistLiked:t=>"1"===e.artists.items.get(String(t)),isArtistDisliked:t=>"0"===e.artists.items.get(String(t)),isAlbumLiked:t=>"1"===e.albums.items.get(String(t)),isPlaylistLiked:t=>"1"===e.playlists.items.get(String(t)),get dislikedTracksIds(){let t=[];return e.tracks.items.forEach((e,i)=>{"0"===e&&t.push(i)}),t}})).actions(e=>{let t={getData:(0,c.ls)(function*(){let{modelActionsLogger:i,collectionResource:r}=(0,c.dU)(e);if(e.loadingState!==f.G.PENDING)try{e.loadingState=f.G.PENDING;let i=yield r.sync({likedAlbums:S(e.albums.revision),likedArtists:S(e.artists.revision),likedTracks:S(e.tracks.revision),likedPlaylists:{}});t.setAlbums(i.values.likedAlbums),t.setArtists(i.values.likedArtists),t.setPlaylists(i.values.likedPlaylists),t.setTracks(i.values.likedTracks),e.loadingState=f.G.RESOLVE}catch(t){i.error(t),e.loadingState=f.G.REJECT}}),setArtists:i=>{(null==i?void 0:i.values)&&e.artists.revision!==i.info.revision&&(t.clearArtists(),e.artists.revision=i.info.revision,i.values.liked.map(t=>{e.artists.items.set(t.artistId.toString(),"1")}),i.values.disliked.map(t=>{e.artists.items.set(t.artistId.toString(),"0")}))},setAlbums:i=>{(null==i?void 0:i.values)&&e.albums.revision!==i.info.revision&&(t.clearAlbums(),e.albums.revision=i.info.revision,i.values.liked.map(t=>{e.albums.items.set(t.albumId.toString(),"1")}))},setPlaylists:i=>{(null==i?void 0:i.values)&&(t.clearPlaylists(),i.values.liked.map(t=>{e.playlists.items.set("".concat(t.compositeData.uid,":").concat(t.compositeData.kind),"1")}))},setTracks:i=>{(null==i?void 0:i.values)&&e.tracks.revision!==i.info.revision&&(t.clearTracks(),e.tracks.revision=i.info.revision,i.values.liked.map(t=>{e.tracks.items.set(t.trackId,"1")}),i.values.disliked.map(t=>{e.tracks.items.set(t.trackId,"0")}))},clearArtists:()=>{e.artists.revision=null,e.artists.items.clear()},clearAlbums:()=>{e.albums.revision=null,e.albums.items.clear()},clearPlaylists:()=>{e.playlists.revision=null,e.playlists.items.clear()},clearTracks:()=>{e.tracks.revision=null,e.tracks.items.clear()},toggleTrackLike:(0,c.ls)(function*(t){let{usersResource:i,modelActionsLogger:r}=(0,c.dU)(e),l=String(t.entityId),s=e.tracks.items.get(l);try{let r;let s={entityId:t.albumId?"".concat(t.entityId,":").concat(t.albumId):t.entityId,userId:t.userId};return"1"===e.tracks.items.get(l)?(e.tracks.items.delete(l),r=yield i.unlikeTrack(s)):(e.tracks.items.set(l,"1"),r=yield i.likeTrack(s)),r}catch(t){return s?e.tracks.items.set(l,s):e.tracks.items.delete(l),r.error(t),I.B.ERROR}}),toggleTrackDislike:(0,c.ls)(function*(t){let{usersResource:i,modelActionsLogger:r}=(0,c.dU)(e),l=String(t.entityId),s=e.tracks.items.get(l);try{let r;let s={entityId:t.albumId?"".concat(t.entityId,":").concat(t.albumId):t.entityId,userId:t.userId};return"0"===e.tracks.items.get(l)?(e.tracks.items.delete(l),r=yield i.undislikeTrack(s)):(e.tracks.items.set(l,"0"),r=yield i.dislikeTrack(s)),r}catch(t){return s?e.tracks.items.set(l,s):e.tracks.items.delete(l),r.error(t),I.B.ERROR}}),toggleArtistLike:(0,c.ls)(function*(t){let{usersResource:i,modelActionsLogger:r}=(0,c.dU)(e),l=String(t.entityId),s=e.artists.items.get(l);try{let r;return"1"===e.artists.items.get(l)?(e.artists.items.delete(l),r=yield i.unlikeArtist(t)):(e.artists.items.set(l,"1"),r=yield i.likeArtist(t)),r}catch(t){return s?e.artists.items.set(l,s):e.artists.items.delete(l),r.error(t),I.B.ERROR}}),toggleArtistDislike:(0,c.ls)(function*(t){let{usersResource:i,modelActionsLogger:r}=(0,c.dU)(e),l=String(t.entityId),s=e.artists.items.get(l);try{let r;return"0"===e.artists.items.get(l)?(e.artists.items.delete(l),r=yield i.undislikeArtist(t)):(e.artists.items.set(l,"0"),r=yield i.dislikeArtist(t)),r}catch(t){return s?e.artists.items.set(l,s):e.artists.items.delete(l),r.error(t),I.B.ERROR}}),toggleAlbumLike:(0,c.ls)(function*(t){let{usersResource:i,modelActionsLogger:r}=(0,c.dU)(e),l=String(t.entityId),s=e.albums.items.get(l);try{let r;return"1"===e.albums.items.get(l)?(e.albums.items.delete(l),r=yield i.unlikeAlbum(t)):(e.albums.items.set(l,"1"),r=yield i.likeAlbum(t)),r}catch(t){return s?e.albums.items.set(l,s):e.albums.items.delete(l),r.error(t),I.B.ERROR}}),togglePlaylistLike:(0,c.ls)(function*(t){let{usersResource:i,modelActionsLogger:r}=(0,c.dU)(e),l=String(t.entityId),s=e.playlists.items.get(l);try{let r;return"1"===e.playlists.items.get(l)?(e.playlists.items.delete(l),r=yield i.unlikePlaylist(t)):(e.playlists.items.set(l,"1"),r=yield i.likePlaylist(t)),r}catch(t){return s?e.playlists.items.set(l,s):e.playlists.items.delete(l),r.error(t),I.B.ERROR}})};return t}),L=c.V5.model("LikesCount",{likesCount:c.V5.maybe(c.V5.number),pendingLikesCount:c.V5.optional(c.V5.number,0)}).views(e=>({get actualLikesCount(){if("number"==typeof e.likesCount){var t;return e.likesCount+(null!==(t=e.pendingLikesCount)&&void 0!==t?t:0)}return 0}})).actions(e=>({likePending(){e.pendingLikesCount+=1},unlikePending(){e.pendingLikesCount-=1}})),M=c.V5.model("Location",{pathname:c.V5.optional(c.V5.string,""),searchParams:c.V5.optional(c.V5.string,""),host:c.V5.optional(c.V5.string,""),tld:c.V5.optional(c.V5.string,""),origin:c.V5.optional(c.V5.string,""),href:c.V5.optional(c.V5.string,"")}).actions(e=>({setPathname(t){e.pathname=t},setSearchParams(t){e.searchParams=t},setHost(t){e.host=t},setTld(t){e.tld=t},setOrigin(t){e.origin=t},setHref(t){e.href=t}})),C=c.V5.model("Pager",{page:c.V5.number,perPage:c.V5.number,total:c.V5.number});var P=i(74256);let D=c.V5.model("UserAgent",{isBrowser:c.V5.boolean,isMobile:c.V5.boolean,isTablet:c.V5.boolean,isTouch:c.V5.boolean,browserName:c.V5.maybe(c.V5.string),browserVersion:c.V5.maybe(c.V5.string),OSFamily:c.V5.maybe(c.V5.string)}),j=c.V5.model("Settings",{layout:c.V5.maybeNull(c.V5.enumeration(Object.keys(P.t))),isLandscape:c.V5.boolean,isMobileLandscapeHeight:c.V5.boolean,platform:c.V5.maybe(c.V5.enumeration(Object.values(h.t4T))),userAgent:c.V5.maybe(D)}).views(e=>({get isDesktopApplication(){return!!e.platform}})).actions(e=>({setLayout(t){e.layout=t},setPlatform(t){e.platform=t},setIsLandscape(t){e.isLandscape=t},setIsMobileLandscapeHeight(t){e.isMobileLandscapeHeight=t},setUserAgent(t){e.userAgent=(0,c.pj)(t)}}));var N=i(18965);let U=c.V5.model("Sort",{sortBy:c.V5.string,sortOrder:c.V5.enumeration(Object.values(N.A))}),F=c.V5.model("TrackIdModel",{id:c.V5.union(c.V5.string,c.V5.number),albumId:c.V5.maybe(c.V5.number),timestamp:c.V5.maybe(c.V5.string)})},30821:function(e,t,i){var r,l;i.d(t,{B:function(){return r}}),(l=r||(r={})).OK="ok",l.ERROR="error"},39071:function(e,t,i){var r,l;i.d(t,{F:function(){return r}}),(l=r||(r={})).EXPLICIT="explicit",l.CLEAN="clean"},18965:function(e,t,i){var r,l;i.d(t,{A:function(){return r}}),(l=r||(r={})).ASC="asc",l.DESC="desc"},81337:function(e,t,i){var r,l;i.d(t,{e:function(){return r}}),(l=r||(r={})).MODAL="modal",l.FOREIGN_AGENT="foreignAgent",l.INFORMATIONAL="informational",l.AGE_18="age18",l.EXPLICIT="explicit"},62812:function(e,t,i){var r,l;i.d(t,{V:function(){return r}}),(l=r||(r={})).TRACK="track",l.MUSIC="music",l.NOISE="noise",l.PODCAST="podcast-episode",l.COMMENT="comment",l.ARTICLE="article",l.ASMR="asmr",l.RADIO="radio",l.SHOW="show",l.LECTURE="lecture",l.FAIRY_TALE="fairy-tale",l.AUDIOBOOK="audiobook",l.POETRY="poetry"}}]);
