(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[506],{90703:function(t,e,i){"use strict";i.d(e,{I:function(){return a}});var s=function(){return(s=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++)for(var a in e=arguments[i])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},a=function(){function t(t,e,i){var a=this;this.endVal=e,this.options=i,this.version="2.8.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(t){a.startTime||(a.startTime=t);var e=t-a.startTime;a.remaining=a.duration-e,a.useEasing?a.countDown?a.frameVal=a.startVal-a.easingFn(e,0,a.startVal-a.endVal,a.duration):a.frameVal=a.easingFn(e,a.startVal,a.endVal-a.startVal,a.duration):a.frameVal=a.startVal+(a.endVal-a.startVal)*(e/a.duration);var i=a.countDown?a.frameVal<a.endVal:a.frameVal>a.endVal;a.frameVal=i?a.endVal:a.frameVal,a.frameVal=Number(a.frameVal.toFixed(a.options.decimalPlaces)),a.printValue(a.frameVal),e<a.duration?a.rAF=requestAnimationFrame(a.count):null!==a.finalEndVal?a.update(a.finalEndVal):a.options.onCompleteCallback&&a.options.onCompleteCallback()},this.formatNumber=function(t){var e,i,s,n=(Math.abs(t).toFixed(a.options.decimalPlaces)+"").split(".");if(e=n[0],i=n.length>1?a.options.decimal+n[1]:"",a.options.useGrouping){s="";for(var o=3,r=0,l=0,u=e.length;l<u;++l)a.options.useIndianSeparators&&4===l&&(o=2,r=1),0!==l&&r%o==0&&(s=a.options.separator+s),r++,s=e[u-l-1]+s;e=s}return a.options.numerals&&a.options.numerals.length&&(e=e.replace(/[0-9]/g,function(t){return a.options.numerals[+t]}),i=i.replace(/[0-9]/g,function(t){return a.options.numerals[+t]})),(t<0?"-":"")+a.options.prefix+e+i+a.options.suffix},this.easeOutExpo=function(t,e,i,s){return i*(1-Math.pow(2,-10*t/s))*1024/1023+e},this.options=s(s({},this.defaults),i),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(e),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,""===this.options.separator&&(this.options.useGrouping=!1),this.el="string"==typeof t?document.getElementById(t):t,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined","undefined"!=typeof window&&this.options.enableScrollSpy&&(this.error?console.error(this.error,t):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return a.handleScroll(a)}),window.onscroll=function(){window.onScrollFns.forEach(function(t){return t()})},this.handleScroll(this)))}return t.prototype.handleScroll=function(t){if(t&&window&&!t.once){var e=window.innerHeight+window.scrollY,i=t.el.getBoundingClientRect(),s=i.top+window.pageYOffset,a=i.top+i.height+window.pageYOffset;a<e&&a>window.scrollY&&t.paused?(t.paused=!1,setTimeout(function(){return t.start()},t.options.scrollSpyDelay),t.options.scrollSpyOnce&&(t.once=!0)):(window.scrollY>a||s>e)&&!t.paused&&t.reset()}},t.prototype.determineDirectionAndSmartEasing=function(){var t=this.finalEndVal?this.finalEndVal:this.endVal;if(this.countDown=this.startVal>t,Math.abs(t-this.startVal)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=t;var e=this.countDown?1:-1;this.endVal=t+e*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=t,this.finalEndVal=null;null!==this.finalEndVal?this.useEasing=!1:this.useEasing=this.options.useEasing},t.prototype.start=function(t){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),t&&(this.options.onCompleteCallback=t),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},t.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},t.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},t.prototype.update=function(t){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(t),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,null==this.finalEndVal&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},t.prototype.printValue=function(t){var e;if(this.el){var i=this.formattingFn(t);(null===(e=this.options.plugin)||void 0===e?void 0:e.render)?this.options.plugin.render(this.el,i):"INPUT"===this.el.tagName?this.el.value=i:"text"===this.el.tagName||"tspan"===this.el.tagName?this.el.textContent=i:this.el.innerHTML=i}},t.prototype.ensureNumber=function(t){return"number"==typeof t&&!isNaN(t)},t.prototype.validateValue=function(t){var e=Number(t);return this.ensureNumber(e)?e:(this.error="[CountUp] invalid start or end value: ".concat(t),null)},t.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},t}()},1992:function(t,e,i){"use strict";i.d(e,{SlidesPage:function(){return P}});var s=i(65301),a=i(9695),n=i(96233),o=i(99678),r=i(91207),l=i(37184),u=i(44729),d=i(55975),c=i(78372),h=i(82036),p=i(22455),m=i(81437),f=i(86348),g=i(98192),v=i(93836),S=i(2319),V=i(21454),x=i(56198),E=i(30544),_=i.n(E);let b=t=>{let{isFirstSlide:e,isLastSlide:i,style:a}=t,n=(0,v.oc)(),{formatMessage:o}=(0,l.Z)(),u=(0,r.useCallback)(()=>{n.slidePrev()},[n]),d=(0,r.useCallback)(()=>{n.slideNext()},[n]);return(0,s.jsxs)("div",{className:_().root,style:a,children:[(0,s.jsx)(c.z,{variant:"outline",iconClassName:_().top,size:"m",radius:"round",onClick:u,disabled:e,icon:(0,s.jsx)(h.Icon,{variant:"arrowDown"},"prevIcon"),withRipple:!1,"aria-label":o({id:"slider.prev-slide"}),className:_().control}),(0,s.jsx)(c.z,{variant:"outline",size:"m",radius:"round",onClick:d,disabled:i,icon:(0,s.jsx)(h.Icon,{variant:"arrowDown"},"nextIcon"),withRipple:!1,"aria-label":o({id:"slider.next-slide"}),className:_().control})]})};var A=i(19489),I=i(69847),R=i(43998),w=i(97741),y=i.n(w);let k=t=>{var e;let{slide:i,isVisible:n}=t,o=(0,x.R$C)(),{from:l}=(0,x.MhG)({pageId:x.Rhz.TRAILER_OF_THE_YEAR,blockId:x.aUg.DEFAULT}),{isActive:u}=(0,v.c6)();(0,x.PKp)(n);let d=null==o?void 0:o.getState(x.jiA.TRAILER).queueState.entityList.value,c=(0,r.useMemo)(()=>i.entitiesData&&d&&i.entitiesData.every((t,e)=>{var i;return t.meta.id===(null===(i=d[e])||void 0===i?void 0:i.entity.data.meta.id)}),[i.entitiesData,d]),h=n&&i.hasTrailer&&(!c||(null==o?void 0:o.getState(x.jiA.TRAILER).playerState.status.value)!==f.Xz.PLAYING),p=h&&(null==o?void 0:null===(e=o.getState(x.jiA.TRAILER).currentContext.value)||void 0===e?void 0:e.data.meta.id)===i.id;return(0,r.useEffect)(()=>{if(p){o.restartContext({playAfterRestart:!0,queueParams:{index:0},entitiesData:i.entitiesData},x.jiA.TRAILER);return}h&&(null==o||o.playContext({contextData:{type:A.A.Various,overrideContextType:I.Z.Other,trailer:!0,meta:{id:i.id},from:l},queueParams:{index:0},entitiesData:i.entitiesData,loadContextMeta:!1},x.jiA.TRAILER))},[l,h,p,i.entitiesData,i.id,o]),(0,s.jsx)(R.Paper,{className:(0,a.W)(y().root,{[y().root_isActive]:u}),radius:"l",tabIndex:0,children:(0,s.jsx)(V.qU,{slide:i,isActive:u})})};var C=i(44603),T=i.n(C);let j=(0,n.Pi)(t=>{let{items:e}=t,{settings:{isMobile:i},slides:n}=(0,x.oR4)(),{formatMessage:o}=(0,l.Z)(),{state:u,toggleTrue:d}=(0,S.O)(!1),c=(0,v.oc)(),[h,p]=(0,r.useState)(!0),[m,f]=(0,r.useState)(!1);(0,r.useEffect)(()=>(d(),()=>{null==c||c.slideTo(0),n.setActiveSlide(0)}),[d,c,n]);let E=(0,r.useCallback)(t=>{p(t.isBeginning),f(t.isEnd),n.setActiveSlide(t.activeIndex)},[n]);return(0,s.jsx)("div",{className:(0,a.W)(T().root,{[T().root_visible]:u}),children:(0,s.jsxs)(v.tq,{direction:"vertical",centeredSlides:!i,slidesPerView:"auto",spaceBetween:16,className:T().container,keyboard:{enabled:!0},modules:[g.N1,g.s5,g.Gk],onActiveIndexChange:E,a11y:{enabled:!0,containerMessage:o({id:"page.results-of-the-year"})},mousewheel:{thresholdDelta:30,thresholdTime:500},children:[e.map((t,i)=>(0,s.jsx)(v.o5,{children:(0,s.jsx)(x.zAR,{slidesType:(0,V.GF)(n.consumer),slideId:t.id,slidesCount:e.length,slidePos:i+1,videoId:t.background.videoUrl,artistId:n.artistId,children:(0,s.jsx)(k,{isVisible:n.activeSlide===i,slide:t})})},t.id)),(0,s.jsx)(b,{isFirstSlide:h,isLastSlide:m})]})})});var F=i(76104),N=i.n(F);function L(t,e){return(t===x.Gui.RESOLVE||t===x.Gui.REJECT)&&0===e.length}let P=(0,n.Pi)(t=>{var e;let{slidesConsumer:i,artistId:n,podcastId:g}=t,{formatMessage:v}=(0,l.Z)(),{slides:S,experiments:E,sonataState:_,settings:b}=(0,x.oR4)(),A=(0,x.R$C)(),I=!(null===(e=b.browserInfo)||void 0===e?void 0:e.isMobile)||!b.browserInfo.isTouch,R=null==A?void 0:A.getState(x.jiA.TRAILER);(0,r.useEffect)(()=>{null==A||A.setVolume(1,x.jiA.TRAILER),S.setIsMuted(!1)},[S,A]);let{moveBack:w}=(0,x.hL6)("/");switch(i){case V.R2.USER:S.userSlidesLoadingState===x.Gui.IDLE&&(0,r.use)(S.getUserSlides());break;case V.R2.ARTIST:n&&S.artistSlidesLoadingState===x.Gui.IDLE&&(0,r.use)(S.getArtistSlides({artistId:n}));break;case V.R2.PODCAST:g&&S.podcastSlidesLoadingState===x.Gui.IDLE&&(0,r.use)(S.getPodcastSlides({podcastId:Number(g)}))}(0,r.useEffect)(()=>()=>{S.resetUser(),S.resetArtist(),S.resetPodcast(),null==A||A.pause(x.jiA.TRAILER)},[S,A]),E.checkExperiment(x.peG.WebNextRewind2024,"on")||(0,o.notFound)(),(0,x.bXU)((0,V.GF)(i)),(0,x.IOz)({isLoaded:S.userSlidesLoadingState===x.Gui.RESOLVE||S.artistSlidesLoadingState===x.Gui.RESOLVE||S.podcastSlidesLoadingState===x.Gui.RESOLVE,slidesType:(0,V.GF)(i)}),(0,r.useEffect)(()=>{_.status===f.Xz.PLAYING&&(null==A||A.togglePause())},[A,_.status]);let y=(0,r.useMemo)(()=>{switch(i){case V.R2.USER:return S.userItems;case V.R2.ARTIST:return S.artistItems;case V.R2.PODCAST:return S.podcastItems}},[S.artistItems,S.podcastItems,S.userItems,i]);(0,r.useEffect)(()=>{if(E.checkExperiment(x.peG.WebNextRewind2024,"on"))switch(i){case V.R2.USER:L(S.userSlidesLoadingState,y)&&(0,o.notFound)();break;case V.R2.ARTIST:L(S.artistSlidesLoadingState,y)&&(0,o.notFound)();break;case V.R2.PODCAST:L(S.podcastSlidesLoadingState,y)&&(0,o.notFound)()}else(0,o.notFound)()},[E,y,y.length,S.artistSlidesLoadingState,S.podcastSlidesLoadingState,S.userSlidesLoadingState,i]),(0,x.ZP4)(!0);let k=(0,r.useMemo)(()=>{var t;let e;let i=null===(t=y[S.activeSlide])||void 0===t?void 0:t.slideColor;if(i){let{r:t,g:s,b:a}=(0,x.oo7)(i);e="rgba(".concat(t,", ").concat(s,", ").concat(a,", 0.5)")}return{"--card-color-enabled_variant":i,"--card-color-enabled":e,"--logo-color":i}},[y,S.activeSlide]),C=(0,r.useCallback)(()=>{S.toggleMute(),0!==(null==R?void 0:R.playerState.volume.value)?null==A||A.setVolume(0,x.jiA.TRAILER):null==A||A.setVolume(1,x.jiA.TRAILER)},[S,A,null==R?void 0:R.playerState.volume.value]),T=S.isMuted?"volumeOff":"volume",F=v(S.isMuted?{id:"player-actions.volume-off"}:{id:"player-actions.volume-on"});return(0,s.jsxs)("div",{className:N().root,style:k,...(0,d.BA)(d.Br.slides.SLIDES_PAGE),children:[(0,s.jsx)(p.y,{children:(0,s.jsx)(m.Heading,{variant:"h1",children:(0,s.jsx)(u.Z,{id:"page.results-of-the-year"})})}),(0,s.jsxs)("header",{className:N().header,children:[(null==y?void 0:y.length)>0&&(0,s.jsxs)("div",{className:N().slidesResult,children:[(0,s.jsx)(m.Caption,{variant:"span",className:N().counterActiveItem,type:"text",size:"l",weight:"medium",children:Number(S.activeSlide)+1}),(0,s.jsx)(m.Caption,{variant:"span",type:"text",size:"l",weight:"medium",className:N().counterItem,children:"/"}),(0,s.jsx)(m.Caption,{variant:"span",type:"text",size:"l",weight:"medium",className:N().counterItem,children:null==y?void 0:y.length})]}),I&&(0,s.jsx)(c.z,{"aria-label":F,variant:"text",radius:"round",size:"xxxs",icon:(0,s.jsx)(h.Icon,{size:"xs",className:N().icon,variant:T}),onClick:C,className:(0,a.W)(N().button,N().volumeButton),withRipple:!1}),(0,s.jsx)(c.z,{"aria-label":v({id:"navigation.go-back"}),radius:"round",size:"xs",icon:(0,s.jsx)(h.Icon,{size:"xs",variant:"close"},"handleBackIcon"),onClick:w,className:(0,a.W)(N().button,N().desktopBackButton),role:"link"}),(0,s.jsx)(c.z,{variant:"text","aria-label":v({id:"navigation.go-back"}),radius:"round",size:"xs",icon:(0,s.jsx)(h.Icon,{size:"xs",variant:"arrowLeft"},"handleBackIcon"),onClick:w,className:(0,a.W)(N().button,N().mobileBackButton),role:"link"})]}),(0,s.jsx)(j,{items:y})]})})},44616:function(t){t.exports={root:"SlidesNotFoundPage_root__bmv9K",important:"SlidesNotFoundPage_important__VELWc"}},76104:function(t){t.exports={root:"SlidesPage_root__URM_B",header:"SlidesPage_header__pnBx9",slidesResult:"SlidesPage_slidesResult__neqIE",counterActiveItem:"SlidesPage_counterActiveItem__Y_K9I",counterItem:"SlidesPage_counterItem__3CqZW",button:"SlidesPage_button__s9V8y",volumeButton:"SlidesPage_volumeButton__HfFCM",desktopBackButton:"SlidesPage_desktopBackButton__ae1Uj",mobileBackButton:"SlidesPage_mobileBackButton__MwOgB"}},30544:function(t){t.exports={root:"SliderControls_root__v_ofj",control:"SliderControls_control__E3joM",top:"SliderControls_top__HN5gZ"}},97741:function(t){t.exports={root:"Slide_root__x5JEM",root_isActive:"Slide_root_isActive__CKUSv"}},44603:function(t){t.exports={root:"Slider_root__T7EOX",root_visible:"Slider_root_visible__b3Kqx",fade:"Slider_fade__V7FGV",container:"Slider_container__tZ0VH"}},69847:function(t,e,i){"use strict";var s,a;i.d(e,{Z:function(){return s}}),(a=s||(s={})).Album="album",a.Artist="artist",a.Playlist="playlist",a.Radio="radio",a.Other="other",a.Search="search"},10420:function(t,e,i){"use strict";var s,a;i.d(e,{A:function(){return s}}),(a=s||(s={})).Music="music",a.VibeTrack="vibeTrack",a.Generative="generative",a.Unknown="unknown",a.SmartPreview="smartPreview"}}]);